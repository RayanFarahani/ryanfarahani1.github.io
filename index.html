<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ryan Farahani — Data Analyst & AI Engineer</title>
  <meta name="description" content="Data Analyst & AI Engineer specializing in Python, SQL, Power BI, and Machine Learning. Based in Sydney, Australia.">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Stylesheet -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ==================== SCROLL PROGRESS BAR ==================== -->
<div class="scroll-progress" id="scrollProgress"></div>

<!-- ==================== CUSTOM CURSOR ==================== -->
<div class="cursor-dot" id="cursorDot"></div>
<div class="cursor-ring" id="cursorRing"></div>

<!-- ==================== NAVIGATION ==================== -->
<nav class="navbar" id="navbar">
  <div class="nav-container">
    <a href="#home" class="nav-logo">
      <span class="logo-bracket">&lt;</span>Ryan<span class="logo-bracket">/&gt;</span>
    </a>
    <ul class="nav-links" id="navLinks">
      <li><a href="#home" class="nav-link active" data-section="home">Home</a></li>
      <li><a href="#about" class="nav-link" data-section="about">About</a></li>
      <li><a href="#skills" class="nav-link" data-section="skills">Skills</a></li>
      <li><a href="#projects" class="nav-link" data-section="projects">Projects</a></li>
      <li><a href="#contact" class="nav-link" data-section="contact">Contact</a></li>
    </ul>
    <div class="nav-actions">
      <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
        <i class="fas fa-moon"></i>
        <i class="fas fa-sun"></i>
      </button>
      <a href="resume.pdf" class="nav-resume-btn" target="_blank">Resume</a>
      <div class="hamburger" id="hamburger">
        <span></span><span></span><span></span>
      </div>
    </div>
  </div>
</nav>

<!-- ==================== HERO SECTION ==================== -->
<section id="home" class="hero">
  <div class="hero-bg-animation">
    <div class="floating-shape shape-1"></div>
    <div class="floating-shape shape-2"></div>
    <div class="floating-shape shape-3"></div>
    <div class="floating-shape shape-4"></div>
    <div class="floating-shape shape-5"></div>
    <div class="grid-bg"></div>
  </div>
  <div class="hero-container">
    <div class="hero-content">
      <div class="hero-badge">
        <span class="badge-dot"></span>
        Available for opportunities
      </div>
      <h1 class="hero-name">
        Hi, I'm <span class="gradient-text">Ryan Farahani</span>
      </h1>
      <div class="hero-title-wrapper">
        <span class="hero-title-static">I'm a&nbsp;</span>
        <span class="hero-title-typed" id="typedText"></span>
        <span class="typed-cursor">|</span>
      </div>
      <p class="hero-description">
        Transforming raw data into actionable insights and intelligent solutions.
        I bridge the gap between data analysis and AI engineering to solve
        real-world business challenges.
      </p>
      <div class="hero-buttons">
        <a href="#projects" class="btn btn-primary">
          <span>View My Work</span>
          <i class="fas fa-arrow-right"></i>
        </a>
        <a href="#contact" class="btn btn-ghost">
          <span>Let's Talk</span>
          <i class="fas fa-paper-plane"></i>
        </a>
      </div>
      <div class="hero-social">
        <a href="https://linkedin.com/in/ryan-farahanii" target="_blank" aria-label="LinkedIn" class="social-link">
          <i class="fab fa-linkedin-in"></i>
        </a>
        <a href="https://github.com/ryanfarahani1" target="_blank" aria-label="GitHub" class="social-link">
          <i class="fab fa-github"></i>
        </a>
        <a href="mailto:Ryan.farahani97@gmail.com" aria-label="Email" class="social-link">
          <i class="fas fa-envelope"></i>
        </a>
      </div>
    </div>
    <div class="hero-visual">
      <div class="hero-image-wrapper">
        <div class="hero-image-ring"></div>
        <div class="hero-image-ring ring-2"></div>
        <img src="images/profile1.jpg" alt="Ryan Farahani" class="hero-photo">
        <div class="hero-floating-card card-1">
          <i class="fab fa-python"></i>
          <span>Python</span>
        </div>
        <div class="hero-floating-card card-2">
          <i class="fas fa-brain"></i>
          <span>AI/ML</span>
        </div>
        <div class="hero-floating-card card-3">
          <i class="fas fa-chart-line"></i>
          <span>Analytics</span>
        </div>
      </div>
    </div>
  </div>
  <div class="scroll-indicator">
    <span>Scroll</span>
    <div class="scroll-line"></div>
  </div>
</section>

<!-- ==================== STATS BAR ==================== -->
<section class="stats-bar">
  <div class="container">
    <div class="stats-grid">
      <div class="stat-item">
        <span class="stat-number" data-target="15">0</span><span class="stat-suffix">+</span>
        <span class="stat-label">Projects Completed</span>
      </div>
      <div class="stat-divider"></div>
      <div class="stat-item">
        <span class="stat-number" data-target="5">0</span><span class="stat-suffix">+</span>
        <span class="stat-label">AI Models Deployed</span>
      </div>
      <div class="stat-divider"></div>
      <div class="stat-item">
        <span class="stat-number" data-target="10">0</span><span class="stat-suffix">+</span>
        <span class="stat-label">Dashboards Built</span>
      </div>
      <div class="stat-divider"></div>
      <div class="stat-item">
        <span class="stat-number" data-target="3">0</span><span class="stat-suffix">+</span>
        <span class="stat-label">Years Experience</span>
      </div>
    </div>
  </div>
</section>

<!-- ==================== ABOUT SECTION ==================== -->
<section id="about" class="about">
  <div class="container">
    <div class="section-header">
      <span class="section-tag"><i class="fas fa-user"></i> Get to know me</span>
      <h2 class="section-title">About Me</h2>
    </div>
    <div class="about-grid">
      <div class="about-text-col">
        <div class="about-text">
          <p class="about-lead">
            I'm a <strong>Data Analyst</strong> and <strong>AI Engineer</strong> based in
            Sydney, Australia, with a Master's in IT specializing in Artificial Intelligence.
          </p>
          <p>
            I specialize in extracting insights from complex datasets, building interactive
            dashboards, writing optimized SQL queries, and deploying AI/ML models that
            solve real business problems.
          </p>
          <p>
            I enjoy working with cross-functional teams to translate data into business
            strategies that drive measurable results. My approach combines analytical
            rigor with creative problem-solving.
          </p>
        </div>
        <div class="about-details">
          <div class="detail-card">
            <div class="detail-icon">
              <i class="fas fa-map-marker-alt"></i>
            </div>
            <div>
              <span class="detail-label">Location</span>
              <span class="detail-value">Sydney, Australia</span>
            </div>
          </div>
          <div class="detail-card">
            <div class="detail-icon">
              <i class="fas fa-graduation-cap"></i>
            </div>
            <div>
              <span class="detail-label">Education</span>
              <span class="detail-value">Master of IT in AI</span>
            </div>
          </div>
          <div class="detail-card">
            <div class="detail-icon status-icon">
              <i class="fas fa-circle"></i>
            </div>
            <div>
              <span class="detail-label">Status</span>
              <span class="detail-value">Open to opportunities</span>
            </div>
          </div>
        </div>
        <a href="resume.pdf" class="btn btn-primary" target="_blank">
          <i class="fas fa-download"></i>
          <span>Download Resume</span>
        </a>
      </div>
      <div class="about-tech-col">
        <div class="tech-orbit">
          <div class="orbit-center">
            <span>Core<br>Stack</span>
          </div>
          <div class="orbit-ring ring-1">
            <div class="orbit-item" style="--angle: 0deg;"><i class="fab fa-python"></i></div>
            <div class="orbit-item" style="--angle: 90deg;"><i class="fas fa-database"></i></div>
            <div class="orbit-item" style="--angle: 180deg;"><i class="fas fa-chart-bar"></i></div>
            <div class="orbit-item" style="--angle: 270deg;"><i class="fas fa-robot"></i></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ==================== SKILLS SECTION ==================== -->
<section id="skills" class="skills">
  <div class="container">
    <div class="section-header">
      <span class="section-tag"><i class="fas fa-code"></i> What I use</span>
      <h2 class="section-title">Skills & Tools</h2>
    </div>
    <div class="skills-grid">
      <div class="skill-card" data-color="blue">
        <div class="skill-card-header">
          <div class="skill-icon-wrapper blue">
            <i class="fab fa-python"></i>
          </div>
          <h3>Python</h3>
        </div>
        <p class="skill-description">Data analysis, automation, and ML model development</p>
        <div class="skill-tags">
          <span>Pandas</span>
          <span>NumPy</span>
          <span>Matplotlib</span>
          <span>Seaborn</span>
          <span>Plotly</span>
          <span>Scikit-learn</span>
          <span>Streamlit</span>
        </div>
        <div class="skill-level">
          <div class="skill-level-bar" data-width="92"></div>
        </div>
      </div>

      <div class="skill-card" data-color="green">
        <div class="skill-card-header">
          <div class="skill-icon-wrapper green">
            <i class="fas fa-database"></i>
          </div>
          <h3>SQL</h3>
        </div>
        <p class="skill-description">Database design, complex queries, and data pipelines</p>
        <div class="skill-tags">
          <span>PostgreSQL</span>
          <span>MySQL</span>
          <span>SQL Server</span>
          <span>CTEs</span>
          <span>Window Functions</span>
          <span>Stored Procedures</span>
        </div>
        <div class="skill-level">
          <div class="skill-level-bar" data-width="88"></div>
        </div>
      </div>

      <div class="skill-card" data-color="amber">
        <div class="skill-card-header">
          <div class="skill-icon-wrapper amber">
            <i class="fas fa-chart-bar"></i>
          </div>
          <h3>Power BI</h3>
        </div>
        <p class="skill-description">Interactive dashboards, data modeling, and business intelligence</p>
        <div class="skill-tags">
          <span>DAX</span>
          <span>Power Query</span>
          <span>Data Modeling</span>
          <span>Interactive Dashboards</span>
          <span>Report Design</span>
        </div>
        <div class="skill-level">
          <div class="skill-level-bar" data-width="85"></div>
        </div>
      </div>

      <div class="skill-card" data-color="purple">
        <div class="skill-card-header">
          <div class="skill-icon-wrapper purple">
            <i class="fas fa-robot"></i>
          </div>
          <h3>AI / ML</h3>
        </div>
        <p class="skill-description">Deep learning, NLP, computer vision, and LLM applications</p>
        <div class="skill-tags">
          <span>TensorFlow</span>
          <span>PyTorch</span>
          <span>NLP</span>
          <span>Computer Vision</span>
          <span>LLMs</span>
          <span>HuggingFace</span>
          <span>LangChain</span>
        </div>
        <div class="skill-level">
          <div class="skill-level-bar" data-width="90"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ==================== PROJECTS SECTION ==================== -->
<section id="projects" class="projects">
  <div class="container">
    <div class="section-header">
      <span class="section-tag"><i class="fas fa-folder-open"></i> My work</span>
      <h2 class="section-title">Featured Projects</h2>
    </div>

    <!-- Filter Buttons -->
    <div class="filter-buttons">
      <button class="filter-btn active" data-filter="all">
        <i class="fas fa-layer-group"></i> All
      </button>
      <button class="filter-btn" data-filter="python">
        <i class="fab fa-python"></i> Python
      </button>
      <button class="filter-btn" data-filter="sql">
        <i class="fas fa-database"></i> SQL
      </button>
      <button class="filter-btn" data-filter="powerbi">
        <i class="fas fa-chart-bar"></i> Power BI
      </button>
      <button class="filter-btn" data-filter="ai">
        <i class="fas fa-robot"></i> AI / ML
      </button>
    </div>

    <div class="projects-grid">

      <!-- PROJECT 1: Python -->
      <div class="project-card" data-category="python">
        <div class="project-image">
          <img src="images/domain.jpg" alt="Sales Analysis">
          <div class="project-overlay">
            <div class="overlay-content">
              <a href="https://your-streamlit-app.streamlit.app" target="_blank" class="overlay-btn primary">
                <i class="fas fa-external-link-alt"></i> Live Demo
              </a>
              <a href="https://github.com/RyanFarahani1/real-estate-ml-predictions" target="_blank" class="overlay-btn">
                <i class="fab fa-github"></i> Source Code
              </a>
            </div>
          </div>
          <span class="project-badge python-badge">Python</span>
        </div>
        <div class="project-info">
          <h3>Multi-Task Real Estate Analytics: Ensemble Learning for Price & Type Prediction</h3>
          <p>A top-performing AI system designed to accurately predict home prices and property types. By combining multiple smart models and cleaning complex data, this project provides highly reliable real estate market insights.</p>
          <div class="project-tech">
            <span>Pandas</span>
            <span>Plotly</span>
            <span>Streamlit</span>
            <span>Prophet</span>
          </div>
          <div class="project-links-mobile">
            <a href="https://your-streamlit-app.streamlit.app" target="_blank"><i class="fas fa-external-link-alt"></i> Demo</a>
            <a href="https://github.com/ryanfarahani1/project1" target="_blank"><i class="fab fa-github"></i> Code</a>
          </div>
        </div>
      </div>

      <!-- PROJECT 2: SQL -->
      <div class="project-card" data-category="sql">
        <div class="project-image">
          <img src="https://via.placeholder.com/600x400/059669/ffffff?text=SQL+Analysis" alt="SQL Analysis">
          <div class="project-overlay">
            <div class="overlay-content">
              <a href="https://github.com/ryanfarahani1/project2" target="_blank" class="overlay-btn primary">
                <i class="fab fa-github"></i> View Case Study
              </a>
            </div>
          </div>
          <span class="project-badge sql-badge">SQL</span>
        </div>
        <div class="project-info">
          <h3>E-Commerce Database Analysis</h3>
          <p>Designed and queried a normalized database to analyze customer behavior, product performance, and revenue trends using advanced SQL.</p>
          <div class="project-tech">
            <span>PostgreSQL</span>
            <span>CTEs</span>
            <span>Window Functions</span>
          </div>
          <div class="project-links-mobile">
            <a href="https://github.com/ryanfarahani1/project2" target="_blank"><i class="fab fa-github"></i> Case Study</a>
          </div>
        </div>
      </div>

      <!-- PROJECT 3: Power BI -->
      <div class="project-card" data-category="powerbi">
        <div class="project-image">
          <img src="https://via.placeholder.com/600x400/d97706/ffffff?text=Power+BI" alt="Power BI Dashboard">
          <div class="project-overlay">
            <div class="overlay-content">
              <a href="https://app.powerbi.com/view?r=YOUR_EMBED" target="_blank" class="overlay-btn primary">
                <i class="fas fa-external-link-alt"></i> Live Dashboard
              </a>
            </div>
          </div>
          <span class="project-badge powerbi-badge">Power BI</span>
        </div>
        <div class="project-info">
          <h3>HR Analytics Dashboard</h3>
          <p>Built an interactive dashboard tracking employee attrition, satisfaction scores, and department performance. Reduced HR reporting time by 60%.</p>
          <div class="project-tech">
            <span>Power BI</span>
            <span>DAX</span>
            <span>Power Query</span>
          </div>
          <div class="project-links-mobile">
            <a href="https://app.powerbi.com/view?r=YOUR_EMBED" target="_blank"><i class="fas fa-external-link-alt"></i> Dashboard</a>
          </div>
        </div>
      </div>

      <!-- PROJECT 4: AI/ML -->
      <div class="project-card" data-category="ai">
        <div class="project-image">
          <img src="https://via.placeholder.com/600x400/7c3aed/ffffff?text=Sentiment+AI" alt="AI Project">
          <div class="project-overlay">
            <div class="overlay-content">
              <a href="https://huggingface.co/spaces/ryanfarahani1/project" target="_blank" class="overlay-btn primary">
                <i class="fas fa-external-link-alt"></i> Live Demo
              </a>
              <a href="https://github.com/ryanfarahani1/project4" target="_blank" class="overlay-btn">
                <i class="fab fa-github"></i> Source Code
              </a>
            </div>
          </div>
          <span class="project-badge ai-badge">AI / ML</span>
        </div>
        <div class="project-info">
          <h3>Sentiment Analysis App</h3>
          <p>Fine-tuned a transformer model for sentiment analysis on customer reviews. Deployed as a web app with real-time predictions. 94% accuracy.</p>
          <div class="project-tech">
            <span>PyTorch</span>
            <span>HuggingFace</span>
            <span>Gradio</span>
          </div>
          <div class="project-links-mobile">
            <a href="https://huggingface.co/spaces/ryanfarahani1/project" target="_blank"><i class="fas fa-external-link-alt"></i> Demo</a>
            <a href="https://github.com/ryanfarahani1/project4" target="_blank"><i class="fab fa-github"></i> Code</a>
          </div>
        </div>
      </div>

      <!-- PROJECT 5: Python -->
      <div class="project-card" data-category="python">
        <div class="project-image">
          <img src="https://via.placeholder.com/600x400/2563eb/ffffff?text=EDA+Project" alt="EDA Project">
          <div class="project-overlay">
            <div class="overlay-content">
              <a href="https://github.com/ryanfarahani1/project5" target="_blank" class="overlay-btn primary">
                <i class="fab fa-github"></i> View Notebook
              </a>
            </div>
          </div>
          <span class="project-badge python-badge">Python</span>
        </div>
        <div class="project-info">
          <h3>COVID-19 Data Exploration</h3>
          <p>Performed comprehensive EDA on global COVID data. Created visualizations revealing vaccination impact on mortality rates across 50+ countries.</p>
          <div class="project-tech">
            <span>Pandas</span>
            <span>Matplotlib</span>
            <span>Seaborn</span>
          </div>
          <div class="project-links-mobile">
            <a href="https://github.com/ryanfarahani1/project5" target="_blank"><i class="fab fa-github"></i> Notebook</a>
          </div>
        </div>
      </div>

      <!-- PROJECT 6: AI -->
      <div class="project-card" data-category="ai">
        <div class="project-image">
          <img src="https://via.placeholder.com/600x400/7c3aed/ffffff?text=RAG+Chatbot" alt="RAG Chatbot">
          <div class="project-overlay">
            <div class="overlay-content">
              <a href="https://your-app.streamlit.app" target="_blank" class="overlay-btn primary">
                <i class="fas fa-external-link-alt"></i> Live Demo
              </a>
              <a href="https://github.com/ryanfarahani1/project6" target="_blank" class="overlay-btn">
                <i class="fab fa-github"></i> Source Code
              </a>
            </div>
          </div>
          <span class="project-badge ai-badge">AI / ML</span>
        </div>
        <div class="project-info">
          <h3>RAG Chatbot — Chat with PDF</h3>
          <p>Built a Retrieval-Augmented Generation chatbot that lets users upload PDFs and ask questions. Uses LangChain + OpenAI + FAISS vector store.</p>
          <div class="project-tech">
            <span>LangChain</span>
            <span>OpenAI</span>
            <span>FAISS</span>
            <span>Streamlit</span>
          </div>
          <div class="project-links-mobile">
            <a href="https://your-app.streamlit.app" target="_blank"><i class="fas fa-external-link-alt"></i> Demo</a>
            <a href="https://github.com/ryanfarahani1/project6" target="_blank"><i class="fab fa-github"></i> Code</a>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- Demo 7: AI -->
<section id="image-captioning" class="projects">
  <div class="container">
    <div class="section-header">
      <span class="section-tag"><i class="fas fa-image"></i> Live AI Demo</span>
      <h2 class="section-title">Image Captioning Model</h2>
      <p class="section-subtitle">
        Upload an image and see the caption generated by my EfficientNet&#8209;B0 + GPT&#8209;2 model
        deployed on Hugging Face Spaces.
      </p>
    </div>

    <div class="project-card" style="max-width: 600px; margin: 0 auto;">
      <div class="project-image" style="height:auto;">
        <input type="file" id="captionImageInput" accept="image/*" style="margin:16px 0;">
        <img id="captionImagePreview" alt="Selected image preview" style="display:none; margin-top:12px;">
      </div>
      <div class="project-info">
        <button class="btn btn-primary" id="captionSubmitBtn">
          <span>Generate Caption</span>
          <i class="fas fa-magic"></i>
        </button>
        <p id="captionStatus" style="margin-top:12px; font-size:0.9rem; color:var(--text-tertiary);"></p>
        <p id="captionResult" style="margin-top:8px; font-weight:600;"></p>
      </div>
    </div>
  </div>
</section>

<!-- ==================== DOCMIND AI — NATIVE CHAT DEMO ==================== -->
<section id="demo" class="docmind-section">

  <!-- Ambient background -->
  <div class="dm-bg">
    <div class="dm-orb dm-orb-1"></div>
    <div class="dm-orb dm-orb-2"></div>
    <div class="dm-orb dm-orb-3"></div>
    <div class="dm-grid"></div>
  </div>

  <div class="container" style="position:relative;z-index:1;">

    <!-- Section header -->
    <div class="section-header reveal">
      <span class="section-tag light"><i class="fas fa-brain"></i> Live AI Demo</span>
      <h2 class="section-title light">DocMind AI</h2>
      <p class="section-subtitle">
        Upload up to 5 files (PDF, TXT, DOCX, CSV, XLSX, images) and chat with your documents —
        powered by RAG, ChromaDB, and Mistral-7B. Running live on Hugging Face.
      </p>
    </div>

    <!-- Main demo card -->
    <div class="dm-card">

      <!-- Left panel: info + upload -->
      <div class="dm-panel dm-left">

        <!-- Status indicator -->
        <div class="dm-status" id="dmStatus">
          <span class="dm-status-dot idle"></span>
          <span class="dm-status-text">No document loaded</span>
        </div>

        <!-- Upload zone -->
        <div class="dm-upload-zone" id="dmUploadZone">
          <input type="file" id="dmFileInput" accept=".pdf,.txt,.doc,.docx,.csv,.xlsx,.xls,.jpg,.jpeg,.png,.webp" multiple hidden>
          <div class="dm-upload-icon">
            <i class="fas fa-cloud-upload-alt"></i>
          </div>
          <p class="dm-upload-title">Drop your files here</p>
          <p class="dm-upload-sub">Up to 5 files &middot; PDF, TXT, DOCX, CSV, XLSX, JPG/PNG/WEBP</p>
          <button class="dm-upload-btn">
            <i class="fas fa-folder-open"></i> Browse Files
          </button>
        </div>

        <!-- File info (shown after upload) -->
        <div class="dm-file-info" id="dmFileInfo" style="display:none;">
          <div class="dm-file-icon"><i class="fas fa-file-alt"></i></div>
          <div class="dm-file-details">
            <span class="dm-file-name" id="dmFileName">documents</span>
            <span class="dm-file-chunks" id="dmFileChunks">Indexing...</span>
          </div>
          <button class="dm-file-remove" id="dmFileRemove" title="Remove all documents">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <!-- OR divider -->
        <div class="dm-or">
          <span>or try a sample question</span>
        </div>

        <!-- Sample questions -->
        <div class="dm-samples">
          <button class="dm-sample-btn" data-q="What are the main topics covered in these documents?">
            <i class="fas fa-list"></i> Main topics
          </button>
          <button class="dm-sample-btn" data-q="Summarize the key findings or conclusions.">
            <i class="fas fa-compress-alt"></i> Summarize
          </button>
          <button class="dm-sample-btn" data-q="What recommendations are made?">
            <i class="fas fa-lightbulb"></i> Recommendations
          </button>
          <button class="dm-sample-btn" data-q="What data or evidence is presented?">
            <i class="fas fa-chart-bar"></i> Evidence
          </button>
        </div>

        <!-- Tech stack -->
        <div class="dm-tech">
          <span class="dm-tech-label">Powered by</span>
          <div class="dm-tech-pills">
            <span>LangChain</span>
            <span>ChromaDB</span>
            <span>Mistral-7B</span>
            <span>FastAPI</span>
            <span>HuggingFace</span>
          </div>
        </div>

        <!-- External link -->
        <a href="https://huggingface.co/spaces/Ryanfafa/docmind-ai" target="_blank" class="dm-external-link">
          <i class="fas fa-external-link-alt"></i>
          Open full app on HuggingFace
        </a>

      </div>

      <!-- Right panel: chat -->
      <div class="dm-panel dm-right">

        <!-- Chat header -->
        <div class="dm-chat-header">
          <div class="dm-chat-avatar">
            <i class="fas fa-brain"></i>
          </div>
          <div>
            <div class="dm-chat-name">DocMind AI</div>
            <div class="dm-chat-sub" id="dmChatSub">Ready to analyze your documents</div>
          </div>
          <div class="dm-thinking" id="dmThinking">
            <span></span><span></span><span></span>
          </div>
        </div>

        <!-- Messages -->
        <div class="dm-messages" id="dmMessages">
          <!-- Welcome message -->
          <div class="dm-msg dm-msg-ai">
            <div class="dm-msg-avatar"><i class="fas fa-brain"></i></div>
            <div class="dm-msg-content">
              <div class="dm-msg-bubble">
                &#x1F44B; Hi! I'm <strong>DocMind AI</strong> — a RAG-powered assistant built by Ryan.<br><br>
                Upload up to <strong>5 files</strong> (PDF, TXT, DOCX, CSV, XLSX, images) on the left, then ask me anything.
                I'll retrieve the most relevant sections and give you accurate, grounded answers.
              </div>
              <div class="dm-msg-meta">DocMind AI &middot; Just now</div>
            </div>
          </div>
        </div>

        <!-- Input area -->
        <div class="dm-input-area">
          <div class="dm-input-wrap">
            <textarea
              id="dmInput"
              class="dm-input"
              placeholder="Upload documents first, then ask anything..."
              rows="1"
              disabled
            ></textarea>
            <button class="dm-send-btn" id="dmSendBtn" disabled>
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
          <div class="dm-input-hint">
            <i class="fas fa-shield-alt"></i> Answers are grounded in your documents only — no hallucinations
          </div>
        </div>

      </div>
    </div>

    <!-- Stats row below card -->
    <div class="dm-stats-row">
      <div class="dm-stat-item">
        <i class="fas fa-layer-group"></i>
        <span class="dm-stat-val">600</span>
        <span class="dm-stat-lbl">Token Chunk Size</span>
      </div>
      <div class="dm-stat-item">
        <i class="fas fa-search"></i>
        <span class="dm-stat-val">MMR</span>
        <span class="dm-stat-lbl">Search Strategy</span>
      </div>
      <div class="dm-stat-item">
        <i class="fas fa-vector-square"></i>
        <span class="dm-stat-val">384</span>
        <span class="dm-stat-lbl">Embedding Dims</span>
      </div>
      <div class="dm-stat-item">
        <i class="fas fa-bolt"></i>
        <span class="dm-stat-val">Top-3</span>
        <span class="dm-stat-lbl">Retrieval K</span>
      </div>
      <div class="dm-stat-item">
        <i class="fas fa-robot"></i>
        <span class="dm-stat-val">Mistral-7B</span>
        <span class="dm-stat-lbl">LLM Backend</span>
      </div>
    </div>

  </div>
</section>

<!-- ==================== DOCMIND JS ==================== -->
<script>
(function () {
  // ── Config ────────────────────────────────────────────────────────────
  var SPACE_ROOT = 'https://ryanfafa-docmind-ai.hf.space';
  var API_BASE   = SPACE_ROOT + '/proxy/7861';

  // ── State ─────────────────────────────────────────────────────────────
  var documentLoaded = false;
  var isThinking     = false;

  // ── Elements ──────────────────────────────────────────────────────────
  var fileInput  = document.getElementById('dmFileInput');
  var uploadZone = document.getElementById('dmUploadZone');
  var fileInfo   = document.getElementById('dmFileInfo');
  var fileName   = document.getElementById('dmFileName');
  var fileChunks = document.getElementById('dmFileChunks');
  var fileRemove = document.getElementById('dmFileRemove');
  var statusDot  = document.querySelector('.dm-status-dot');
  var statusText = document.querySelector('.dm-status-text');
  var messages   = document.getElementById('dmMessages');
  var input      = document.getElementById('dmInput');
  var sendBtn    = document.getElementById('dmSendBtn');
  var thinking   = document.getElementById('dmThinking');
  var chatSub    = document.getElementById('dmChatSub');
  var sampleBtns = document.querySelectorAll('.dm-sample-btn');

  // ── Helpers ───────────────────────────────────────────────────────────
  function setStatus(state, text) {
    statusDot.className = 'dm-status-dot ' + state;
    statusText.textContent = text;
  }

  function setThinking(active) {
    isThinking = active;
    thinking.classList.toggle('active', active);
    sendBtn.disabled = active || !documentLoaded;
    input.disabled   = active || !documentLoaded;
    chatSub.textContent = active
      ? 'Thinking...'
      : (documentLoaded ? 'Documents loaded \u00b7 Ask anything' : 'Ready to analyze your documents');
  }

  function addMessage(role, content, sources) {
    sources = sources || [];
    var isAI    = role === 'ai';
    var isError = role === 'error';
    var time    = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

    var msgEl = document.createElement('div');
    msgEl.className = 'dm-msg dm-msg-' + (isAI || isError ? 'ai' : 'user') + (isError ? ' dm-msg-error' : '');

    var avatarIcon  = isAI || isError ? 'fa-brain' : 'fa-user';
    var authorLabel = isAI ? 'DocMind AI' : isError ? 'Error' : 'You';

    var sourcesHTML = '';
    if (sources.length > 0) {
      sourcesHTML = '<div class="dm-sources">' +
        sources.map(function(s) { return '<span class="dm-source-pill"><i class="fas fa-file-alt"></i>' + s + '</span>'; }).join('') +
        '</div>';
    }

    msgEl.innerHTML =
      '<div class="dm-msg-avatar"><i class="fas ' + avatarIcon + '"></i></div>' +
      '<div class="dm-msg-content">' +
        '<div class="dm-msg-bubble">' + content + '</div>' +
        sourcesHTML +
        '<div class="dm-msg-meta">' + authorLabel + ' \u00b7 ' + time + '</div>' +
      '</div>';

    messages.appendChild(msgEl);
    messages.scrollTop = messages.scrollHeight;
    return msgEl;
  }

  async function fetchWithTimeout(url, opts, timeoutMs) {
    opts = opts || {};
    timeoutMs = timeoutMs || 12000;
    var controller = new AbortController();
    var t = setTimeout(function() { controller.abort(); }, timeoutMs);
    try {
      var resp = await fetch(url, Object.assign({}, opts, { signal: controller.signal }));
      return resp;
    } finally {
      clearTimeout(t);
    }
  }

  async function checkApiAwake() {
    try {
      var resp = await fetchWithTimeout(API_BASE + '/health', {}, 8000);
      return resp.ok;
    } catch (e) {
      return false;
    }
  }

  // ── Upload documents (up to 5, additive) ──────────────────────────────
  async function uploadDocuments(fileList) {
    if (!fileList || fileList.length === 0) return;

    var files = Array.prototype.slice.call(fileList, 0, 5);

    setStatus('loading', 'Uploading & indexing...');
    uploadZone.style.display = 'none';
    fileInfo.style.display   = 'flex';
    fileName.textContent     = files.length === 1 ? files[0].name : files.length + ' files selected';
    fileChunks.textContent   = 'Indexing...';

    var apiOk = await checkApiAwake();
    if (!apiOk) {
      setStatus('error', 'API unreachable');
      fileChunks.textContent = '\u2717 API not responding';
      addMessage('error',
        'Can\'t reach the API. Your Space may be sleeping or the API port isn\'t reachable.' +
        '<br><br>' +
        '1) Open the Space directly to wake it: <a href="https://huggingface.co/spaces/Ryanfafa/docmind-ai" target="_blank" style="color:#60a5fa;">DocMind AI on HuggingFace</a>' +
        '<br>' +
        '2) Then refresh this page and try again.'
      );
      uploadZone.style.display = 'block';
      fileInfo.style.display   = 'none';
      return;
    }

    var totalAddedChunks = 0;
    var loadedCount      = 0;
    var totalChunksAll   = 0;

    try {
      for (var i = 0; i < files.length; i++) {
        var file = files[i];
        fileChunks.textContent = 'Uploading ' + (i + 1) + '/' + files.length + ': ' + file.name;

        var formData = new FormData();
        formData.append('file', file);

        var resp = await fetchWithTimeout(API_BASE + '/upload', {
          method: 'POST',
          body: formData
        }, 120000);

        if (!resp.ok) {
          var detail = 'Upload failed (HTTP ' + resp.status + ')';
          try {
            var respText = await resp.text();
            try {
              var errData = JSON.parse(respText);
              detail = errData.detail || detail;
            } catch (e2) {
              if (respText && respText.length < 300) detail = respText;
            }
          } catch (e) {}
          throw new Error(file.name + ': ' + detail);
        }

        var data = await resp.json();
        totalAddedChunks += (data.chunks || 0);
        loadedCount    = data.file_count    != null ? data.file_count    : loadedCount;
        totalChunksAll = data.total_chunks  != null ? data.total_chunks  : totalChunksAll;
      }

      fileChunks.textContent = '\u2713 Loaded ' + loadedCount + ' file(s) \u00b7 ' + totalChunksAll + ' total chunks';
      setStatus('ready', 'Documents ready');
      documentLoaded = true;

      input.disabled      = false;
      sendBtn.disabled    = false;
      input.placeholder   = 'Ask anything about your documents...';
      chatSub.textContent = 'Documents loaded \u00b7 Ask anything';
      sampleBtns.forEach(function(b) { b.disabled = false; });

      addMessage('ai',
        '\u2705 Indexed <strong>' + files.length + ' file(s)</strong> (+<strong>' + totalAddedChunks + '</strong> chunks).' +
        '<br>Now ask me anything about your documents.'
      );

    } catch (err) {
      setStatus('error', 'Upload failed');
      fileChunks.textContent = '\u2717 Failed to upload';
      addMessage('error', 'Failed to upload: ' + err.message);
      uploadZone.style.display = 'block';
      fileInfo.style.display   = 'none';
    }
  }

  // ── Send query ────────────────────────────────────────────────────────
  async function sendQuery(question) {
    if (!question.trim() || isThinking || !documentLoaded) return;

    addMessage('user', question);
    input.value        = '';
    input.style.height = 'auto';
    setThinking(true);

    try {
      var resp = await fetchWithTimeout(API_BASE + '/query', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ question: question })
      }, 60000);

      if (!resp.ok) throw new Error('Request failed: ' + resp.status);

      var data = await resp.json();

      if (data.success) {
        addMessage('ai', data.answer, data.sources);
      } else {
        addMessage('error', 'Something went wrong: ' + (data.error || 'Unknown error'));
      }

    } catch (err) {
      addMessage('error',
        'Connection error: ' + err.message + '.' +
        '<br><br>' +
        'If the Space is sleeping, open it to wake it: ' +
        '<a href="https://huggingface.co/spaces/Ryanfafa/docmind-ai" target="_blank" style="color:#60a5fa;">DocMind AI</a>' +
        '<br>Then refresh and try again.'
      );
    } finally {
      setThinking(false);
    }
  }

  // ── Event listeners ───────────────────────────────────────────────────

  fileInput.addEventListener('change', function() {
    if (fileInput.files && fileInput.files.length) uploadDocuments(fileInput.files);
  });

  uploadZone.addEventListener('click', function(e) {
    if (e.target === fileInput) return;
    fileInput.click();
  });
  uploadZone.addEventListener('dragover', function(e) {
    e.preventDefault();
    uploadZone.classList.add('dragover');
  });
  uploadZone.addEventListener('dragleave', function() { uploadZone.classList.remove('dragover'); });
  uploadZone.addEventListener('drop', function(e) {
    e.preventDefault();
    uploadZone.classList.remove('dragover');
    var files = e.dataTransfer.files;
    if (files && files.length) uploadDocuments(files);
  });

  fileRemove.addEventListener('click', async function() {
    try { await fetchWithTimeout(API_BASE + '/reset', { method: 'POST' }, 20000); } catch (e) {}

    documentLoaded = false;
    fileInfo.style.display   = 'none';
    uploadZone.style.display = 'block';
    input.disabled           = true;
    sendBtn.disabled         = true;
    input.placeholder        = 'Upload documents first, then ask anything...';
    setStatus('idle', 'No document loaded');
    chatSub.textContent = 'Ready to analyze your documents';
    sampleBtns.forEach(function(b) { b.disabled = true; });
    addMessage('ai', 'Documents removed. Upload new files to continue.');
  });

  sendBtn.addEventListener('click', function() { sendQuery(input.value); });

  input.addEventListener('keydown', function(e) {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      sendQuery(input.value);
    }
  });

  input.addEventListener('input', function() {
    input.style.height = 'auto';
    input.style.height = Math.min(input.scrollHeight, 120) + 'px';
  });

  sampleBtns.forEach(function(btn) {
    btn.disabled = true;
    btn.addEventListener('click', function() {
      var q = btn.getAttribute('data-q');
      if (q && documentLoaded && !isThinking) {
        input.value = q;
        sendQuery(q);
      }
    });
  });

})();
</script>

<!-- ==================== CONTACT SECTION ==================== -->
<section id="contact" class="contact">
  <div class="container">
    <div class="section-header">
      <span class="section-tag light"><i class="fas fa-paper-plane"></i> Get in touch</span>
      <h2 class="section-title light">Let's Work Together</h2>
      <p class="section-subtitle">
        I'm currently open to new opportunities. Whether you have a project
        in mind, a question, or just want to connect — my inbox is always open.
      </p>
    </div>
    <div class="contact-grid">
      <a href="mailto:Ryan.farahani97@gmail.com" class="contact-card">
        <div class="contact-icon-wrapper">
          <i class="fas fa-envelope"></i>
        </div>
        <h3>Email</h3>
        <p>Ryan.farahani97@gmail.com</p>
        <span class="contact-action">Send a message <i class="fas fa-arrow-right"></i></span>
      </a>
      <a href="https://linkedin.com/in/ryan-farahanii" target="_blank" class="contact-card">
        <div class="contact-icon-wrapper linkedin">
          <i class="fab fa-linkedin-in"></i>
        </div>
        <h3>LinkedIn</h3>
        <p>ryan-farahanii</p>
        <span class="contact-action">Connect with me <i class="fas fa-arrow-right"></i></span>
      </a>
      <a href="https://github.com/ryanfarahani1" target="_blank" class="contact-card">
        <div class="contact-icon-wrapper github">
          <i class="fab fa-github"></i>
        </div>
        <h3>GitHub</h3>
        <p>ryanfarahani1</p>
        <span class="contact-action">View my repos <i class="fas fa-arrow-right"></i></span>
      </a>
    </div>
  </div>
</section>

<!-- ==================== FOOTER ==================== -->
<footer class="footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-logo">
        <span class="logo-bracket">&lt;</span>Ryan<span class="logo-bracket">/&gt;</span>
      </div>
      <p class="footer-text">Designed & built by Ryan Farahani &copy; 2025</p>
      <div class="footer-social">
        <a href="https://linkedin.com/in/ryan-farahanii" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
        <a href="https://github.com/ryanfarahani1" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
        <a href="mailto:Ryan.farahani97@gmail.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
      </div>
    </div>
  </div>
</footer>

<!-- ==================== BACK TO TOP ==================== -->
<button class="back-to-top" id="backToTop" aria-label="Back to top">
  <i class="fas fa-arrow-up"></i>
</button>

<script src="script.js"></script>
</body>
</html>
